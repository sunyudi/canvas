# Git -版本控制工具

## Git简介
- [官网](https://git-scm.com)
- [文档](https://git-scm.com/book/zh/v2)

### 什么是Git
- Git是一款免费、开源的分布式 `版本控制软件` VCS - Version Control System
- 由 Linus Torvalds（林纳斯·托瓦兹）于2005年发布。
- 最初目的是为更好地管理 Linux内核 开发而设计
- Git使用方式：1 命令 、2 图形化界面（GUI）

### Git的优势
- Git的速度快，性能好
- 有效、高速的处理从很小到非常大的项目版本管理
- 采用分布式存储方式，不需要服务器就可以运行
- 使得源代码的发布和交流极其方便

## 两种版本控制工具
- 集中式版本控制工具: SVN
- 分布式版本控制工具: Git

### 版本控制
```
版本控制是一种记录一个或若干文件内容变化，以便将来查阅特
定版本修订情况的系统。
```

### 集中式和分布式的区别
- 1 集中式依赖于远程服务器，在没有网络的情况下无法提交
- 2 所有开发者都共享一个远程服务器
- 3 分布式直接进行本地存储，不依赖与远程服务器（可有可无）
- 4 没有网络的情况下，也可以工作，有网了，将本地修改内容全部提交到远程服务器

## Git的安装

## Git的基本使用
- 查看帮助：`git --help`
- 查看某一命令帮助：`git add -h`

### 基础配置
- 需要配置：user.name 和 user.email
- 作用：每次 Git 提交时都会引用这两条信息，记录是谁提交了更新
- 配置用户名：   `git config --global user.name "用户名"`
- 配置邮箱：     `git config --global user.email "邮箱地址"`
- 查看配置信息： `git config --list`
- 使用 `--global` 实现全局配置，任何位置使用git都有效

### 初始化仓库
- 命令：`git init`
- 作用：使用Git管理项目的初始化操作，会创建一个名为`.git`的隐藏目录
- 一般是在项目的根目录执行这个命令
- `.git`目录:

```
它是 Git 用来保存元数据和对象数据库的地方。
该目录非常重要，每次克隆镜像仓库的时候，实际拷贝的就是这个目录里面的数据。
```

### 跟踪文件
- 作用：将文件由 工作区 添加到 暂存区（Index），暂存文件
- 命令：`git add 文件路径`
    + 例如： `git add ./README.md`
- `git add --all` 或者 `git add -A`（简写） 添加所有文件
- `git add a.txt b.txt` 同时添加两个文件
- `git add *.js` 添加当前目录下的所有js文件

### 提交更新
- 作用：将文件由 暂存区 添加到 仓库（HEAD）
- `git commit -m "提交说明"`

### 查看文件状态
- 命令：`git status`
- 命令：`git stauts -s` 简化日志输出格式


### 提交代码
- 三个存储分区的说明：

```
1 工作区：开发者的工作目录
2 暂存区：临时存放工作目录中变更的文件
3 仓库  ：存储提交之后的文件目录
```

- 文件的三种状态：
```
已修改（modified）=> 已暂存（staged）=> 已提交（committed）

已修改表示修改了某个文件，但还没有提交保存
已暂存表示把已修改的文件放在下次提交时要保存的清单中
已提交表示该文件已经被安全地保存在本地git仓库中了
```

### Git工作流程
```
1 在工作目录中修改某些文件。
2 对修改后的文件进行快照，然后保存到暂存区域。
3 提交更新，将保存在暂存区域的文件快照永久转储到.git目录中。
```

### 查看提交日志
- 命令：`git log` 查看详细的提交信息
- 命令：`git log --oneline` 简洁的日志信息
- 命令：`git reflog` 查看所有提交变更操作

### 版本回退
- 作用：恢复到已经提交的某一个版本中
- 命令：`git reset --hard [版本号]`
    + 作用：回退到指定的版本号

- 其他方式：`git reset --hard head~1`
    + ~1 表示回到上一次提交
    + ~2 表示上上一次提交
    + ~0 表示当前提交

### 忽略文件
- 作用：忽略一些不需要被git管理的文件

```
1 在与 .git 隐藏目录同级的目录中创建 `.gitignore` 文件
2 打开 .gitignore 文件，加入忽略文件，例如：/test.html
3 路径是相对于当前 .gitignore文件 的路径

路径写法：
/css/a.css
/css/*.css
/a.html

#忽略 build/ 目录下的所有文件
build/
```

#### 忽略文件的说明
- 1 使用 `#` 表示注释，例如：`# 这是注释内容`
- 2 使用 `*` 表示通配符，匹配所有文件，例如：`/css/*.css`
